# 第3章：OpenClawのしくみ

\newpage

## ～ 難しい言葉をゼロから解説 ～

![OpenClawの3層構造](images/ch03_header_3layers.png){ width=100% }

---

この章では、OpenClawの説明でよく出てくるIT用語を、専門知識ゼロの方にも分かるように解説していきます。

\newpage

## 3-1. 3つの層で動いている

OpenClawの仕組みは**3つのパーツ**で構成されています。会社に例えると分かりやすくなります。

![3つの層の詳細](images/ch03_01_3layer_detail.png){ width=100% }

```
┌─────────────────────────────┐
│  ① 受付（チャットアプリ）      │ ← あなたが指示を伝える窓口
├─────────────────────────────┤
│  ② 司令塔（Gateway）          │ ← 指示を理解して判断する
├─────────────────────────────┤
│  ③ 作業員（LLM＝AI頭脳）      │ ← 実際に考えて答えを出す
└─────────────────────────────┘
```

### ① 受付（チャットアプリ）

OpenClawに話しかける**入り口**です。Slack、Discord、Telegram、WhatsApp、LINEなど22種類以上のチャットアプリがそのまま受付として使えます。新しいアプリをインストールする必要はありません。

![対応チャットアプリ](images/ch03_02_chat_apps.png){ width=100% }

### ② 司令塔（Gateway＝ゲートウェイ）

受付から届いた指示を受け取り、「何をすればいいか」を判断する頭脳です。あなたのパソコンの中で動いており、以下を管理しています。

![Gatewayの5つの役割](images/ch03_03_gateway_roles.png){ width=100% }

- どのAI（LLM）を使うか
- どんな操作を許可するか
- 会話の記録を保存する
- 危険な操作をブロックする

大事なのは、この司令塔がクラウドではなく**あなたのパソコンの中にいる**ということです。

### ③ 作業員（LLM＝AI頭脳）

実際に「考える」部分です。Claude、ChatGPT、あるいは無料のローカルAIなど、**好きなAIを選べる**のが大きな特徴です。

たとえば「メール返信して」と指示した場合の流れは次のようになります。

![メール処理の流れ](images/ch03_04_email_flow.png){ width=100% }

---

\newpage

## 3-2.「オープンソース」ってなに？

**オープンソース**とは、設計図を全部公開して、誰でも無料で使えるようにしたソフトウェアのことです。

料理に例えると分かりやすくなります。

![オープンソースとは](images/ch03_05_opensource_before_after.png){ width=100% }

- **普通のソフト** = レストランの料理。完成品を買います。レシピは秘密です。
- **オープンソース** = レシピ公開の料理。誰でも作れますし、アレンジも自由です。

![オープンソースのメリット](images/ch03_06_opensource_merits.png){ width=100% }

**OpenClawがオープンソースであるメリット：**

1. **無料で使えます**（AIの利用料は別途かかる場合があります）
2. **中身が見えます**（怪しいことをしていないか確認できます）
3. **世界中の人が改良できます**（バグが見つかればすぐ修正されます）
4. **自分好みにカスタマイズできます**

---

\newpage

## 3-3.「LLM」ってなに？

**LLM（エルエルエム）**は「Large Language Model」の略です。日本語にすると「大規模言語モデル」になります。

一言で言えば、**「めちゃくちゃ賢いAIの脳みそ」**です。

![LLMの種類と比較](images/ch03_07_llm_comparison.png){ width=100% }

| AI名 | 作った会社 | 特徴 |
|---|---|---|
| Claude | Anthropic | 長い文章が得意、安全性重視 |
| ChatGPT（GPT-4o） | OpenAI | 万能型、世界で最も有名 |
| Gemini | Google | Google連携が強い |
| DeepSeek | DeepSeek社 | 中国発、コスパが良い |

OpenClawの面白いところは、この「脳みそ」を**自分で選べる**ということです。さらに**ローカルLLM**と呼ばれる、自分のパソコンの中だけで動くAIを選ぶこともできます。この場合、完全に無料で、データが外に出ません。ただしClaudeやChatGPTに比べると性能は少し落ちます。

---

\newpage

## 3-4.「API」ってなに？

OpenClawの設定で必ず出てくるのが**API（エーピーアイ）**という言葉です。

**API**とは、ソフトウェア同士が会話するための**「電話番号」**のようなものです。OpenClaw（司令塔）がClaude（AI頭脳）に仕事を頼む時の連絡先にあたります。

![APIの仕組み](images/ch03_08_api_flow.png){ width=100% }

電話をかけるには電話番号が必要なように、AIを使うには**APIキー**が必要になります。APIキーとは、あなた専用の「会員番号」のようなもので、正式な利用者であることを証明するコードです。

**重要：APIキーは銀行の暗証番号と同じレベルで管理してください。** これが漏れると、あなたのお金で勝手にAIが使われてしまいます。APIキーは使いたいAIの公式サイト（ClaudeならAnthropicのサイト）でアカウントを作って発行します。

---

\newpage

## 3-5.「エージェント」ってなに？

OpenClawを語る上で欠かせない言葉が**「エージェント」**です。

**エージェント**とは、**自分で判断して行動できるAI**のことです。

![普通のAIとエージェントAIの違い](images/ch03_09_agent_comparison.png){ width=100% }

| | 今までのAI | エージェントAI（OpenClaw） |
|---|---|---|
| 行動 | 言われたことに答えるだけ | 自分で判断して行動します |
| 道具 | 持っていない | パソコン操作という「手」を持っています |
| 計画 | 1回の質問に1回の回答 | 複数のステップを自分で計画して実行します |

たとえば「旅行の予約をして」と頼んだ場合を考えてみましょう。今までのAIは「こちらのサイトで予約できますよ」と教えてくれるだけです。一方エージェントAIは、自分でサイトを開き、日程を入れ、料金を比較し、「このプランがおすすめですが、予約しますか？」と聞いてきます。

![旅行エージェントの例](images/ch03_10_agent_travel_flow.png){ width=100% }

---

### 第3章のまとめ

![第3章のまとめ](images/ch03_11_summary_tree.png){ width=100% }

| 用語 | 意味 |
|---|---|
| 3層構造 | 受付（チャット）+ 司令塔（Gateway）+ 頭脳（LLM）です |
| オープンソース | 設計図が公開されていて誰でも無料で使えます |
| LLM | AIの脳みそです。Claude、ChatGPTなどから選べます |
| API / APIキー | AIを呼び出すための「電話番号」と「会員証」です |
| エージェント | 自分で考えて行動できるAIのことです |

---

> **次の章へ → 第4章：はじめる前に知っておくべきこと ～ セキュリティ編 ～**
